  /booking/lock/{ID}:
    put:
      security:
        - JWT: []
      parameters:
        - in: path
          name: ID
          schema:
            type: string
          required: true
          description: ID of Booking
      tags:
      - booking-backend
      summary: >-
        Locks the current booking so the devices can be used. This sets the status to "active" This means that the booking can not be cancelled or (currently not implemented) the end time can not be set to a prior time. If called multiple times, the booking will be locked only once.
      responses:
        '200':
          description: All devices were booked by user.
          content:
            application/json:
              schema:
                type: object
                required:
                  - Booking
                  - Time
                  - Tokens
                properties:
                  Booking:
                    $ref: '#/components/schemas/Booking'
                  Time:
                    $ref: '#/components/schemas/Timeslot'
                  Tokens:
                    type: array
                    description: A list of access tokens
                    items:
                      type: object
                      properties:
                        Device:
                          type: string
                          format: uri
                        Token:
                          type: string
        '401':
          description: No authorisation header found.
        '404':
          description: Request contains unknown ID
        '500':
          description: >-
            Request could not be answered. An error string containing the reason
            will be returned.
          content:
            application/json:
              schema:
                type: string
                description: Error string
        '503':
          description: >-
            Service is unable to respond in time, possibly overloaded. Try again in a few minutes.
    delete:
      security:
        - JWT: []
      parameters:
        - in: path
          name: ID
          schema:
            type: string
          required: true
          description: ID of Booking
      tags:
      - booking-backend
      summary: >-
        Unlocks all devices belonging to a booking, status will be set to 'booked'.
      responses:
        '200':
          description: Unlocking was successful.

        '401':
          description: No authorisation header found.
        '404':
          description: Request contains unknown ID
        '500':
          description: >-
            Request could not be answered. An error string containing the reason
            will be returned.
          content:
            application/json:
              schema:
                type: string
                description: Error description.
        '503':
          description: >-
            Service is unable to respond in time, possibly overloaded. Try again in a few minutes.
  /booking/callback/{ID}:
    post:
      security:
        - JWT: []
      parameters:
        - in: path
          name: ID
          schema:
            type: string
          required: true
          description: ID of Booking
      tags:
      - booking-backend
      summary: >-
        Callback used for updating device info / booking info.
      responses:
        '200':
          description: Update was processed.
        '404':
          description: Callback is no longer needed.
        '500':
          description: >-
            Request could not be answered. An error string containing the reason
            will be returned.
          content:
            application/json:
              schema:
                type: string
                description: Error description.
        '503':
          description: >-
            Service is unable to respond in time, possibly overloaded. Try again in a few minutes.
